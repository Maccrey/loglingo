{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,iMAAO,EAAC,IAAA,wKAAI,EAAC;AACtB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/i18n/routing.ts"],"sourcesContent":["import { defineRouting } from 'next-intl/routing';\nimport { createNavigation } from 'next-intl/navigation';\n\nexport const routing = defineRouting({\n  // A list of all locales that are supported\n  locales: [\n    'en', 'ko', 'ja', 'zh', 'th', 'vi', 'id', \n    'es', 'pt', 'fr', 'de', 'tr', 'ar', 'hi'\n  ],\n\n  // Used when no locale matches\n  defaultLocale: 'en'\n});\n\n// Lightweight wrappers around Next.js' navigation APIs\n// that will consider the routing configuration\nexport const { Link, redirect, usePathname, useRouter, getPathname } =\n  createNavigation(routing);\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU,IAAA,8QAAa,EAAC;IACnC,2CAA2C;IAC3C,SAAS;QACP;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QACpC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KACrC;IAED,8BAA8B;IAC9B,eAAe;AACjB;AAIO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,WAAW,EAAE,GAClE,IAAA,6SAAgB,EAAC"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\n\nexport { app, auth, db, storage };\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAC,IAAA,sMAAO,IAAG,MAAM,GAAG,IAAA,4MAAa,EAAC,kBAAkB,IAAA,qMAAM;AACtE,MAAM,OAAO,IAAA,wMAAO,EAAC;AACrB,MAAM,KAAK,IAAA,4MAAY,EAAC;AACxB,MAAM,UAAU,IAAA,6NAAU,EAAC"}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/application/auth/AuthProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useMemo, useState } from \"react\";\nimport {\n  GoogleAuthProvider,\n  onAuthStateChanged,\n  setPersistence,\n  signInWithPopup,\n  signOut,\n  browserLocalPersistence,\n  User,\n} from \"firebase/auth\";\nimport { auth } from \"@/lib/firebase\";\n\ntype AuthContextValue = {\n  user: User | null;\n  loading: boolean;\n  signInWithGoogle: () => Promise<void>;\n  signOutUser: () => Promise<void>;\n};\n\nconst AuthContext = createContext<AuthContextValue | undefined>(undefined);\n\nconst SESSION_KEY = \"loglingo_session_started_at\";\nconst SESSION_TTL_MS = 24 * 60 * 60 * 1000; // 24h\n\nfunction isSessionExpired() {\n  if (typeof window === \"undefined\") return false;\n  const value = window.localStorage.getItem(SESSION_KEY);\n  if (!value) return false;\n  const startedAt = Number(value);\n  return Number.isFinite(startedAt) ? Date.now() - startedAt > SESSION_TTL_MS : false;\n}\n\nfunction markSessionStart() {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.setItem(SESSION_KEY, String(Date.now()));\n}\n\nfunction clearSessionMark() {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.removeItem(SESSION_KEY);\n}\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, async (current) => {\n      if (current && isSessionExpired()) {\n        await signOut(auth);\n        clearSessionMark();\n        setUser(null);\n        setLoading(false);\n        return;\n      }\n      setUser(current);\n      setLoading(false);\n    });\n    return () => unsub();\n  }, []);\n\n  const signInWithGoogle = async () => {\n    setLoading(true);\n    const provider = new GoogleAuthProvider();\n    await setPersistence(auth, browserLocalPersistence);\n    await signInWithPopup(auth, provider);\n    markSessionStart();\n    setLoading(false);\n  };\n\n  const signOutUser = async () => {\n    await signOut(auth);\n    clearSessionMark();\n    setUser(null);\n  };\n\n  const value = useMemo<AuthContextValue>(\n    () => ({ user, loading, signInWithGoogle, signOutUser }),\n    [user, loading]\n  );\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const ctx = useContext(AuthContext);\n  if (!ctx) {\n    throw new Error(\"useAuth must be used within AuthProvider\");\n  }\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AASA;AAZA;;;;;AAqBA,MAAM,4BAAc,IAAA,iPAAa,EAA+B;AAEhE,MAAM,cAAc;AACpB,MAAM,iBAAiB,KAAK,KAAK,KAAK,MAAM,MAAM;AAElD,SAAS;IACP,wCAAmC,OAAO;;;IAC1C,MAAM;IAEN,MAAM;AAER;AAEA,SAAS;IACP,wCAAmC;;;AAErC;AAEA,SAAS;IACP,wCAAmC;;;AAErC;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,4OAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,4OAAQ,EAAC;IAEvC,IAAA,6OAAS,EAAC;QACR,MAAM,QAAQ,IAAA,mNAAkB,EAAC,yJAAI,EAAE,OAAO;YAC5C,IAAI,WAAW,oBAAoB;gBACjC,MAAM,IAAA,wMAAO,EAAC,yJAAI;gBAClB;gBACA,QAAQ;gBACR,WAAW;gBACX;YACF;YACA,QAAQ;YACR,WAAW;QACb;QACA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB,WAAW;QACX,MAAM,WAAW,IAAI,mNAAkB;QACvC,MAAM,IAAA,+MAAc,EAAC,yJAAI,EAAE,wNAAuB;QAClD,MAAM,IAAA,gNAAe,EAAC,yJAAI,EAAE;QAC5B;QACA,WAAW;IACb;IAEA,MAAM,cAAc;QAClB,MAAM,IAAA,wMAAO,EAAC,yJAAI;QAClB;QACA,QAAQ;IACV;IAEA,MAAM,QAAQ,IAAA,2OAAO,EACnB,IAAM,CAAC;YAAE;YAAM;YAAS;YAAkB;QAAY,CAAC,GACvD;QAAC;QAAM;KAAQ;IAGjB,qBAAO,yQAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,8OAAU,EAAC;IACvB,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/components/layout/Navigation.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\nimport { Home, BookOpen, PenTool, Settings, GraduationCap, LogOut, LogIn, User } from \"lucide-react\";\nimport { Link } from \"@/i18n/routing\";\nimport { useTranslations } from \"next-intl\";\nimport { useAuth } from \"@/application/auth/AuthProvider\";\n\nexport function Navigation() {\n  const pathname = usePathname();\n  const t = useTranslations('nav');\n  const { user, signInWithGoogle, signOutUser, loading } = useAuth();\n\n  const navItems = [\n    { href: \"/\", label: t('home'), icon: Home },\n    { href: \"/diary\", label: t('diary'), icon: BookOpen },\n    { href: \"/diary/new\", label: t('write'), icon: PenTool },\n    { href: \"/archive\", label: t('archive'), icon: GraduationCap },\n    { href: \"/settings\", label: t('settings'), icon: Settings },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 z-40 border-t border-white/10 bg-black/20 backdrop-blur-lg md:top-0 md:bottom-auto md:border-b md:border-t-0\">\n      <div className=\"mx-auto flex h-16 max-w-screen-xl items-center justify-around px-4 md:justify-between\">\n        <div className=\"hidden md:block text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">\n          Loglingo\n        </div>\n        \n        <div className=\"flex w-full justify-around md:w-auto md:space-x-8\">\n          {navItems.map((item) => {\n            const isActive = pathname === item.href || (item.href !== \"/\" && pathname?.startsWith(item.href));\n            const Icon = item.icon;\n            \n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                className={cn(\n                  \"flex flex-col items-center justify-center space-y-1 text-xs font-medium transition-colors hover:text-primary md:flex-row md:space-x-2 md:space-y-0 md:text-sm\",\n                  isActive ? \"text-primary\" : \"text-muted-foreground\"\n                )}\n              >\n                <Icon className={cn(\"h-5 w-5\", isActive && \"animate-pulse\")} />\n                <span>{item.label}</span>\n              </Link>\n            );\n          })}\n        </div>\n\n        <div className=\"hidden md:flex items-center gap-3 text-sm text-muted-foreground\">\n          {user ? (\n            <>\n              <div className=\"flex items-center gap-2\">\n                <User className=\"h-4 w-4\" />\n                <span className=\"max-w-[180px] truncate\">{user.email || user.displayName || \"User\"}</span>\n              </div>\n              <button\n                onClick={() => signOutUser()}\n                className=\"inline-flex items-center rounded-lg border border-white/10 px-3 py-1.5 hover:border-primary/50 transition\"\n              >\n                <LogOut className=\"mr-2 h-4 w-4\" />\n                {t('logout') ?? \"Logout\"}\n              </button>\n            </>\n          ) : (\n            <button\n              onClick={() => signInWithGoogle()}\n              className=\"inline-flex items-center rounded-lg border border-primary/50 px-3 py-1.5 text-primary-foreground bg-primary/80 hover:bg-primary transition disabled:opacity-60\"\n              disabled={loading}\n            >\n              <LogIn className=\"mr-2 h-4 w-4\" />\n              {loading ? t('loading', { defaultMessage: 'Loading...' }) : t('login')}\n            </button>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,WAAW,IAAA,4KAAW;IAC5B,MAAM,IAAI,IAAA,oOAAe,EAAC;IAC1B,MAAM,EAAE,IAAI,EAAE,gBAAgB,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAA,iLAAO;IAEhE,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO,EAAE;YAAS,MAAM,sOAAI;QAAC;QAC1C;YAAE,MAAM;YAAU,OAAO,EAAE;YAAU,MAAM,qPAAQ;QAAC;QACpD;YAAE,MAAM;YAAc,OAAO,EAAE;YAAU,MAAM,kPAAO;QAAC;QACvD;YAAE,MAAM;YAAY,OAAO,EAAE;YAAY,MAAM,oQAAa;QAAC;QAC7D;YAAE,MAAM;YAAa,OAAO,EAAE;YAAa,MAAM,iPAAQ;QAAC;KAC3D;IAED,qBACE,yQAAC;QAAI,WAAU;kBACb,cAAA,yQAAC;YAAI,WAAU;;8BACb,yQAAC;oBAAI,WAAU;8BAA0G;;;;;;8BAIzH,yQAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,WAAW,aAAa,KAAK,IAAI,IAAK,KAAK,IAAI,KAAK,OAAO,UAAU,WAAW,KAAK,IAAI;wBAC/F,MAAM,OAAO,KAAK,IAAI;wBAEtB,qBACE,yQAAC,yJAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,IAAA,oJAAE,EACX,iKACA,WAAW,iBAAiB;;8CAG9B,yQAAC;oCAAK,WAAW,IAAA,oJAAE,EAAC,WAAW,YAAY;;;;;;8CAC3C,yQAAC;8CAAM,KAAK,KAAK;;;;;;;2BARZ,KAAK,IAAI;;;;;oBAWpB;;;;;;8BAGF,yQAAC;oBAAI,WAAU;8BACZ,qBACC;;0CACE,yQAAC;gCAAI,WAAU;;kDACb,yQAAC,qOAAI;wCAAC,WAAU;;;;;;kDAChB,yQAAC;wCAAK,WAAU;kDAA0B,KAAK,KAAK,IAAI,KAAK,WAAW,IAAI;;;;;;;;;;;;0CAE9E,yQAAC;gCACC,SAAS,IAAM;gCACf,WAAU;;kDAEV,yQAAC,+OAAM;wCAAC,WAAU;;;;;;oCACjB,EAAE,aAAa;;;;;;;;qDAIpB,yQAAC;wBACC,SAAS,IAAM;wBACf,WAAU;wBACV,UAAU;;0CAEV,yQAAC,4OAAK;gCAAC,WAAU;;;;;;4BAChB,UAAU,EAAE,WAAW;gCAAE,gBAAgB;4BAAa,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAO5E"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/components/ui/Button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Loader2 } from \"lucide-react\";\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: \"primary\" | \"secondary\" | \"ghost\" | \"glass\" | \"destructive\";\n  size?: \"sm\" | \"md\" | \"lg\" | \"icon\";\n  isLoading?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = \"primary\", size = \"md\", isLoading, children, ...props }, ref) => {\n    const variants = {\n      primary: \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md\",\n      secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n      ghost: \"hover:bg-white/10 text-foreground\",\n      glass: \"glass hover:bg-white/10 text-foreground active:scale-95 transition-transform\",\n      destructive: \"bg-red-500 text-white hover:bg-red-600\",\n    };\n\n    const sizes = {\n      sm: \"h-8 px-3 text-xs\",\n      md: \"h-10 px-4 py-2\",\n      lg: \"h-12 px-8 text-lg\",\n      icon: \"h-10 w-10 p-2 flex items-center justify-center\",\n    };\n\n    return (\n      <button\n        className={cn(\n          \"inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary disabled:pointer-events-none disabled:opacity-50\",\n          variants[variant],\n          sizes[size],\n          className\n        )}\n        ref={ref}\n        disabled={isLoading || props.disabled}\n        {...props}\n      >\n        {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n        {children}\n      </button>\n    );\n  }\n);\nButton.displayName = \"Button\";\n\nexport { Button };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AASA,MAAM,uBAAS,8OAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAC/E,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,OAAO;QACP,OAAO;QACP,aAAa;IACf;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,yQAAC;QACC,WAAW,IAAA,oJAAE,EACX,gNACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;QAEF,KAAK;QACL,UAAU,aAAa,MAAM,QAAQ;QACpC,GAAG,KAAK;;YAER,2BAAa,yQAAC,uPAAO;gBAAC,WAAU;;;;;;YAChC;;;;;;;AAGP;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 560, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/components/ui/Card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"glass-card bg-white/5 text-card-foreground p-6\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 pb-4\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight text-lg\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"pt-0\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center pt-4\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,8OAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yQAAC;QACC,KAAK;QACL,WAAW,IAAA,oJAAE,EACX,kDACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,8OAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yQAAC;QACC,KAAK;QACL,WAAW,IAAA,oJAAE,EAAC,kCAAkC;QAC/C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,8OAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yQAAC;QACC,KAAK;QACL,WAAW,IAAA,oJAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,8OAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yQAAC;QAAI,KAAK;QAAK,WAAW,IAAA,oJAAE,EAAC,QAAQ;QAAa,GAAG,KAAK;;;;;;AAE5D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,8OAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,yQAAC;QACC,KAAK;QACL,WAAW,IAAA,oJAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 633, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/components/auth/AuthGate.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, type ReactNode } from \"react\";\nimport { useAuth } from \"@/application/auth/AuthProvider\";\nimport { Button } from \"@/components/ui/Button\";\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/Card\";\nimport { routing } from \"@/i18n/routing\";\nimport { useLocale, useTranslations } from \"next-intl\";\nimport { Languages, Loader2, NotebookPen, ShieldCheck, Sparkles } from \"lucide-react\";\n\ntype AuthGateProps = {\n  children: ReactNode;\n};\n\nexport function AuthGate({ children }: AuthGateProps) {\n  const { user, loading, signInWithGoogle } = useAuth();\n  const t = useTranslations(\"auth\");\n  const locale = useLocale();\n\n  const languageList = useMemo(() => {\n    try {\n      const displayNames = new Intl.DisplayNames([locale], { type: \"language\" });\n      return routing.locales\n        .map((code) => displayNames.of(code) || code)\n        .join(\" · \");\n    } catch (_error) {\n      return routing.locales.join(\" · \");\n    }\n  }, [locale]);\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center gap-3\">\n        <Loader2 className=\"h-6 w-6 animate-spin text-primary\" aria-hidden />\n        <p className=\"text-sm text-muted-foreground\">{t(\"loading\")}</p>\n      </div>\n    );\n  }\n\n  if (!user) {\n    const steps = [\n      { icon: NotebookPen, text: t(\"steps.write\") },\n      { icon: Sparkles, text: t(\"steps.review\") },\n      { icon: ShieldCheck, text: t(\"steps.save\") },\n    ];\n\n    return (\n      <div className=\"flex min-h-screen items-center justify-center px-4 py-10\">\n        <Card className=\"w-full max-w-4xl border-white/10 bg-gradient-to-b from-white/5 to-white/0\">\n          <CardHeader className=\"space-y-3 text-center\">\n            <CardTitle className=\"text-3xl font-bold text-foreground\">{t(\"title\")}</CardTitle>\n            <p className=\"text-sm text-muted-foreground\">{t(\"description\")}</p>\n            <p className=\"text-sm font-medium text-primary\">{t(\"requirement\")}</p>\n            <p className=\"text-xs text-muted-foreground\">{t(\"after_login\")}</p>\n          </CardHeader>\n\n          <CardContent className=\"grid gap-4 md:grid-cols-3\">\n            {steps.map((step) => {\n              const Icon = step.icon;\n              return (\n                <div\n                  key={step.text}\n                  className=\"flex items-start gap-3 rounded-xl border border-white/10 bg-white/5 p-4\"\n                >\n                  <Icon className=\"h-5 w-5 text-primary\" aria-hidden />\n                  <p className=\"text-sm leading-relaxed text-foreground\">{step.text}</p>\n                </div>\n              );\n            })}\n            <div className=\"md:col-span-3\">\n              <div className=\"flex items-start gap-3 rounded-xl border border-white/10 bg-white/5 p-4\">\n                <Languages className=\"h-5 w-5 text-primary\" aria-hidden />\n                <div>\n                  <p className=\"text-sm font-medium text-foreground\">{t(\"languages_label\")}</p>\n                  <p className=\"text-sm text-muted-foreground\">{languageList}</p>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n\n          <CardFooter className=\"flex flex-col items-center gap-3\">\n            <Button\n              size=\"lg\"\n              className=\"w-full bg-primary/90 text-primary-foreground hover:bg-primary md:w-auto\"\n              onClick={() => signInWithGoogle()}\n            >\n              {t(\"cta\")}\n            </Button>\n          </CardFooter>\n        </Card>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AARA;;;;;;;;;AAcO,SAAS,SAAS,EAAE,QAAQ,EAAiB;IAClD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,gBAAgB,EAAE,GAAG,IAAA,iLAAO;IACnD,MAAM,IAAI,IAAA,oOAAe,EAAC;IAC1B,MAAM,SAAS,IAAA,0MAAS;IAExB,MAAM,eAAe,IAAA,2OAAO,EAAC;QAC3B,IAAI;YACF,MAAM,eAAe,IAAI,KAAK,YAAY,CAAC;gBAAC;aAAO,EAAE;gBAAE,MAAM;YAAW;YACxE,OAAO,4JAAO,CAAC,OAAO,CACnB,GAAG,CAAC,CAAC,OAAS,aAAa,EAAE,CAAC,SAAS,MACvC,IAAI,CAAC;QACV,EAAE,OAAO,QAAQ;YACf,OAAO,4JAAO,CAAC,OAAO,CAAC,IAAI,CAAC;QAC9B;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,yQAAC;YAAI,WAAU;;8BACb,yQAAC,uPAAO;oBAAC,WAAU;oBAAoC,aAAW;;;;;;8BAClE,yQAAC;oBAAE,WAAU;8BAAiC,EAAE;;;;;;;;;;;;IAGtD;IAEA,IAAI,CAAC,MAAM;QACT,MAAM,QAAQ;YACZ;gBAAE,MAAM,8PAAW;gBAAE,MAAM,EAAE;YAAe;YAC5C;gBAAE,MAAM,iPAAQ;gBAAE,MAAM,EAAE;YAAgB;YAC1C;gBAAE,MAAM,8PAAW;gBAAE,MAAM,EAAE;YAAc;SAC5C;QAED,qBACE,yQAAC;YAAI,WAAU;sBACb,cAAA,yQAAC,mKAAI;gBAAC,WAAU;;kCACd,yQAAC,yKAAU;wBAAC,WAAU;;0CACpB,yQAAC,wKAAS;gCAAC,WAAU;0CAAsC,EAAE;;;;;;0CAC7D,yQAAC;gCAAE,WAAU;0CAAiC,EAAE;;;;;;0CAChD,yQAAC;gCAAE,WAAU;0CAAoC,EAAE;;;;;;0CACnD,yQAAC;gCAAE,WAAU;0CAAiC,EAAE;;;;;;;;;;;;kCAGlD,yQAAC,0KAAW;wBAAC,WAAU;;4BACpB,MAAM,GAAG,CAAC,CAAC;gCACV,MAAM,OAAO,KAAK,IAAI;gCACtB,qBACE,yQAAC;oCAEC,WAAU;;sDAEV,yQAAC;4CAAK,WAAU;4CAAuB,aAAW;;;;;;sDAClD,yQAAC;4CAAE,WAAU;sDAA2C,KAAK,IAAI;;;;;;;mCAJ5D,KAAK,IAAI;;;;;4BAOpB;0CACA,yQAAC;gCAAI,WAAU;0CACb,cAAA,yQAAC;oCAAI,WAAU;;sDACb,yQAAC,oPAAS;4CAAC,WAAU;4CAAuB,aAAW;;;;;;sDACvD,yQAAC;;8DACC,yQAAC;oDAAE,WAAU;8DAAuC,EAAE;;;;;;8DACtD,yQAAC;oDAAE,WAAU;8DAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAMtD,yQAAC,yKAAU;wBAAC,WAAU;kCACpB,cAAA,yQAAC,uKAAM;4BACL,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM;sCAEd,EAAE;;;;;;;;;;;;;;;;;;;;;;IAMf;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/lib/query-client.ts"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\";\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 60 * 1000, // 1 minute\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,IAAI,uNAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,WAAW,KAAK;YAChB,OAAO;YACP,sBAAsB;QACxB;IACF;AACF"}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/components/ui/Toast.tsx"],"sourcesContent":["\"use client\";\n\nimport { Toaster as Sonner } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  return (\n    <Sonner\n      theme=\"system\"\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster };\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAMA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,qBACE,yQAAC,8KAAM;QACL,OAAM;QACN,WAAU;QACV,cAAc;YACZ,YAAY;gBACV,OACE;gBACF,aAAa;gBACb,cACE;gBACF,cACE;YACJ;QACF;QACC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/application/i18n/LearningLanguageProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useMemo, useState } from \"react\";\n\ntype LearningLanguageContextValue = {\n  learningLanguage: string;\n  setLearningLanguage: (lang: string) => void;\n};\n\nconst LearningLanguageContext = createContext<LearningLanguageContextValue | undefined>(undefined);\nconst STORAGE_KEY = \"loglingo_learning_language\";\n\nfunction readStoredLanguage(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return window.localStorage.getItem(STORAGE_KEY);\n}\n\nfunction persistLanguage(lang: string) {\n  if (typeof window === \"undefined\") return;\n  window.localStorage.setItem(STORAGE_KEY, lang);\n}\n\nexport function LearningLanguageProvider({ children }: { children: React.ReactNode }) {\n  const [learningLanguage, setLearningLanguageState] = useState<string>(\n    () => readStoredLanguage() || \"en\"\n  );\n\n  const setLearningLanguage = (lang: string) => {\n    setLearningLanguageState(lang);\n    persistLanguage(lang);\n  };\n\n  const value = useMemo(\n    () => ({\n      learningLanguage,\n      setLearningLanguage,\n    }),\n    [learningLanguage]\n  );\n\n  return (\n    <LearningLanguageContext.Provider value={value}>\n      {children}\n    </LearningLanguageContext.Provider>\n  );\n}\n\nexport function useLearningLanguage() {\n  const ctx = useContext(LearningLanguageContext);\n  if (!ctx) {\n    throw new Error(\"useLearningLanguage must be used within LearningLanguageProvider\");\n  }\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AASA,MAAM,wCAA0B,IAAA,iPAAa,EAA2C;AACxF,MAAM,cAAc;AAEpB,SAAS;IACP,wCAAmC,OAAO;;;AAE5C;AAEA,SAAS,gBAAgB,IAAY;IACnC,wCAAmC;;;AAErC;AAEO,SAAS,yBAAyB,EAAE,QAAQ,EAAiC;IAClF,MAAM,CAAC,kBAAkB,yBAAyB,GAAG,IAAA,4OAAQ,EAC3D,IAAM,wBAAwB;IAGhC,MAAM,sBAAsB,CAAC;QAC3B,yBAAyB;QACzB,gBAAgB;IAClB;IAEA,MAAM,QAAQ,IAAA,2OAAO,EACnB,IAAM,CAAC;YACL;YACA;QACF,CAAC,GACD;QAAC;KAAiB;IAGpB,qBACE,yQAAC,wBAAwB,QAAQ;QAAC,OAAO;kBACtC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,8OAAU,EAAC;IACvB,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 994, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/infrastructure/observability/send-client-log.ts"],"sourcesContent":["import { ClientLogEvent } from \"@/domain/observability\";\n\nconst LOG_ENDPOINT = \"/api/observability/log\";\n\nexport function sendClientLog(event: ClientLogEvent) {\n  const payload = JSON.stringify({ kind: \"log\", payload: event });\n\n  if (typeof navigator !== \"undefined\" && typeof navigator.sendBeacon === \"function\") {\n    const blob = new Blob([payload], { type: \"application/json\" });\n    navigator.sendBeacon(LOG_ENDPOINT, blob);\n    return;\n  }\n\n  fetch(LOG_ENDPOINT, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: payload,\n    keepalive: true,\n  }).catch(() => {});\n}\n"],"names":[],"mappings":";;;;AAEA,MAAM,eAAe;AAEd,SAAS,cAAc,KAAqB;IACjD,MAAM,UAAU,KAAK,SAAS,CAAC;QAAE,MAAM;QAAO,SAAS;IAAM;IAE7D,IAAI,OAAO,cAAc,eAAe,OAAO,UAAU,UAAU,KAAK,YAAY;QAClF,MAAM,OAAO,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAAmB;QAC5D,UAAU,UAAU,CAAC,cAAc;QACnC;IACF;IAEA,MAAM,cAAc;QAClB,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM;QACN,WAAW;IACb,GAAG,KAAK,CAAC,KAAO;AAClB"}},
    {"offset": {"line": 1026, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/infrastructure/observability/error-reporter.ts"],"sourcesContent":["import { ClientLogEvent } from \"@/domain/observability\";\nimport { sendClientLog } from \"./send-client-log\";\n\nexport function startGlobalErrorReporter() {\n  if (typeof window === \"undefined\") return () => {};\n\n  const handleError = (event: ErrorEvent) => {\n    const log: ClientLogEvent = {\n      level: \"error\",\n      message: event.message || \"Unhandled error\",\n      stack: event.error?.stack,\n      context: {\n        filename: event.filename,\n        lineno: event.lineno,\n        colno: event.colno,\n      },\n      type: \"frontend-error\",\n    };\n    sendClientLog(log);\n  };\n\n  const handleRejection = (event: PromiseRejectionEvent) => {\n    const reason = event.reason;\n    const log: ClientLogEvent = {\n      level: \"error\",\n      message:\n        typeof reason === \"string\"\n          ? reason\n          : reason?.message || \"Unhandled promise rejection\",\n      stack: typeof reason === \"object\" ? reason?.stack : undefined,\n      context: { reason },\n      type: \"frontend-error\",\n    };\n    sendClientLog(log);\n  };\n\n  window.addEventListener(\"error\", handleError);\n  window.addEventListener(\"unhandledrejection\", handleRejection);\n\n  return () => {\n    window.removeEventListener(\"error\", handleError);\n    window.removeEventListener(\"unhandledrejection\", handleRejection);\n  };\n}\n"],"names":[],"mappings":";;;;AACA;;AAEO,SAAS;IACd,wCAAmC,OAAO,KAAO;;;IAEjD,MAAM;IAeN,MAAM;AAsBR"}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/infrastructure/observability/rum-client.ts"],"sourcesContent":["import { ClientLogEvent, RumMetricName, RumMetricPayload } from \"@/domain/observability\";\nimport { sendClientLog } from \"./send-client-log\";\n\nconst RUM_ENDPOINT = \"/api/observability/rum\";\n\ntype LayoutShiftEntry = PerformanceEntry & { value: number; hadRecentInput: boolean };\ntype EventTimingEntry = PerformanceEntry & { interactionId?: number; duration: number };\n\nfunction roundValue(value: number, fractionDigits: number) {\n  return Number(value.toFixed(fractionDigits));\n}\n\nfunction getNavigationType(): string | undefined {\n  const navEntry = performance.getEntriesByType(\"navigation\")[0] as\n    | PerformanceNavigationTiming\n    | undefined;\n  return navEntry?.type;\n}\n\nfunction getRumSessionId() {\n  const key = \"loglingo_rum_session\";\n  if (typeof sessionStorage === \"undefined\") {\n    return crypto.randomUUID ? crypto.randomUUID() : `${Date.now()}`;\n  }\n  const existing = sessionStorage.getItem(key);\n  if (existing) return existing;\n  const fresh = crypto.randomUUID ? crypto.randomUUID() : `${Date.now()}`;\n  sessionStorage.setItem(key, fresh);\n  return fresh;\n}\n\nfunction sendRumMetric(metric: RumMetricPayload) {\n  const body = JSON.stringify({ kind: \"rum\", payload: metric });\n\n  if (typeof navigator !== \"undefined\" && typeof navigator.sendBeacon === \"function\") {\n    const blob = new Blob([body], { type: \"application/json\" });\n    navigator.sendBeacon(RUM_ENDPOINT, blob);\n    return;\n  }\n\n  fetch(RUM_ENDPOINT, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body,\n    keepalive: true,\n  }).catch(() => {});\n}\n\nfunction basePayload(\n  metric: RumMetricName,\n  value: number,\n  sessionId: string\n): RumMetricPayload {\n  const connection = (navigator as Navigator & { connection?: { effectiveType?: string } }).connection;\n  const deviceMemory = (navigator as Navigator & { deviceMemory?: number }).deviceMemory;\n\n  return {\n    metric,\n    value: metric === \"CLS\" ? roundValue(value, 4) : roundValue(value, 2),\n    navigationType: getNavigationType(),\n    pathname: typeof location !== \"undefined\" ? location.pathname : undefined,\n    timestamp: Date.now(),\n    sessionId,\n    visibilityState:\n      typeof document !== \"undefined\" ? document.visibilityState : undefined,\n    effectiveConnectionType: connection?.effectiveType,\n    deviceMemory,\n  };\n}\n\nfunction sendMetric(metric: RumMetricName, value: number, sessionId: string) {\n  sendRumMetric(basePayload(metric, value, sessionId));\n}\n\nfunction sendRumLog(message: string, context?: Record<string, unknown>) {\n  const event: ClientLogEvent = {\n    level: \"info\",\n    message,\n    type: \"rum\",\n    context,\n  };\n  sendClientLog(event);\n}\n\nexport function startRumObservers() {\n  if (typeof window === \"undefined\" || typeof PerformanceObserver === \"undefined\") {\n    return () => {};\n  }\n\n  const sessionId = getRumSessionId();\n  let flushed = false;\n  let lcpValue: number | null = null;\n  let clsValue = 0;\n  let inpValue = 0;\n\n  const navEntry = performance.getEntriesByType(\"navigation\")[0] as\n    | PerformanceNavigationTiming\n    | undefined;\n  if (navEntry) {\n    sendMetric(\"TTFB\", navEntry.responseStart, sessionId);\n  }\n\n  const cleanups: Array<() => void> = [];\n\n  try {\n    const lcpObserver = new PerformanceObserver((entryList) => {\n      const lastEntry = entryList.getEntries().at(-1) as\n        | LargestContentfulPaint\n        | undefined;\n      if (!lastEntry) return;\n      const value = lastEntry.renderTime || lastEntry.loadTime || 0;\n      lcpValue = value;\n    });\n    lcpObserver.observe({ type: \"largest-contentful-paint\", buffered: true });\n    cleanups.push(() => lcpObserver.disconnect());\n  } catch (error) {\n    sendRumLog(\"LCP observer not supported\", { error: String(error) });\n  }\n\n  try {\n    const clsObserver = new PerformanceObserver((entryList) => {\n      for (const entry of entryList.getEntries() as LayoutShiftEntry[]) {\n        if (!entry.hadRecentInput) {\n          clsValue += entry.value;\n        }\n      }\n    });\n    clsObserver.observe({ type: \"layout-shift\", buffered: true });\n    cleanups.push(() => clsObserver.disconnect());\n  } catch (error) {\n    sendRumLog(\"CLS observer not supported\", { error: String(error) });\n  }\n\n  try {\n    const inpObserver = new PerformanceObserver((entryList) => {\n      for (const entry of entryList.getEntries() as EventTimingEntry[]) {\n        if (entry.interactionId && entry.duration > inpValue) {\n          inpValue = entry.duration;\n        }\n      }\n    });\n    inpObserver.observe({ type: \"event\", buffered: true });\n    cleanups.push(() => inpObserver.disconnect());\n  } catch (error) {\n    sendRumLog(\"INP observer not supported\", { error: String(error) });\n  }\n\n  const flushMetrics = () => {\n    if (flushed) return;\n    flushed = true;\n\n    if (lcpValue !== null) {\n      sendMetric(\"LCP\", lcpValue, sessionId);\n    }\n    if (clsValue > 0) {\n      sendMetric(\"CLS\", clsValue, sessionId);\n    }\n    if (inpValue > 0) {\n      sendMetric(\"INP\", inpValue, sessionId);\n    }\n  };\n\n  const onHidden = () => flushMetrics();\n\n  window.addEventListener(\"pagehide\", onHidden, { once: true });\n  document.addEventListener(\n    \"visibilitychange\",\n    () => {\n      if (document.visibilityState === \"hidden\") {\n        onHidden();\n      }\n    },\n    { once: true }\n  );\n\n  cleanups.push(() => {\n    window.removeEventListener(\"pagehide\", onHidden);\n    flushMetrics();\n  });\n\n  return () => {\n    cleanups.forEach((cleanup) => cleanup());\n  };\n}\n"],"names":[],"mappings":";;;;AACA;;AAEA,MAAM,eAAe;AAKrB,SAAS,WAAW,KAAa,EAAE,cAAsB;IACvD,OAAO,OAAO,MAAM,OAAO,CAAC;AAC9B;AAEA,SAAS;IACP,MAAM,WAAW,YAAY,gBAAgB,CAAC,aAAa,CAAC,EAAE;IAG9D,OAAO,UAAU;AACnB;AAEA,SAAS;IACP,MAAM,MAAM;IACZ,IAAI,OAAO,mBAAmB,aAAa;QACzC,OAAO,OAAO,UAAU,GAAG,OAAO,UAAU,KAAK,GAAG,KAAK,GAAG,IAAI;IAClE;IACA,MAAM,WAAW,eAAe,OAAO,CAAC;IACxC,IAAI,UAAU,OAAO;IACrB,MAAM,QAAQ,OAAO,UAAU,GAAG,OAAO,UAAU,KAAK,GAAG,KAAK,GAAG,IAAI;IACvE,eAAe,OAAO,CAAC,KAAK;IAC5B,OAAO;AACT;AAEA,SAAS,cAAc,MAAwB;IAC7C,MAAM,OAAO,KAAK,SAAS,CAAC;QAAE,MAAM;QAAO,SAAS;IAAO;IAE3D,IAAI,OAAO,cAAc,eAAe,OAAO,UAAU,UAAU,KAAK,YAAY;QAClF,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAmB;QACzD,UAAU,UAAU,CAAC,cAAc;QACnC;IACF;IAEA,MAAM,cAAc;QAClB,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C;QACA,WAAW;IACb,GAAG,KAAK,CAAC,KAAO;AAClB;AAEA,SAAS,YACP,MAAqB,EACrB,KAAa,EACb,SAAiB;IAEjB,MAAM,aAAa,AAAC,UAAsE,UAAU;IACpG,MAAM,eAAe,AAAC,UAAoD,YAAY;IAEtF,OAAO;QACL;QACA,OAAO,WAAW,QAAQ,WAAW,OAAO,KAAK,WAAW,OAAO;QACnE,gBAAgB;QAChB,UAAU,OAAO,aAAa,cAAc,SAAS,QAAQ,GAAG;QAChE,WAAW,KAAK,GAAG;QACnB;QACA,iBACE,OAAO,aAAa,cAAc,SAAS,eAAe,GAAG;QAC/D,yBAAyB,YAAY;QACrC;IACF;AACF;AAEA,SAAS,WAAW,MAAqB,EAAE,KAAa,EAAE,SAAiB;IACzE,cAAc,YAAY,QAAQ,OAAO;AAC3C;AAEA,SAAS,WAAW,OAAe,EAAE,OAAiC;IACpE,MAAM,QAAwB;QAC5B,OAAO;QACP;QACA,MAAM;QACN;IACF;IACA,IAAA,2MAAa,EAAC;AAChB;AAEO,SAAS;IACd,wCAAiF;QAC/E,OAAO,KAAO;IAChB;;;IAEA,MAAM;IACN,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,IAAI;IAEJ,MAAM;IAON,MAAM;IA6CN,MAAM;IAeN,MAAM;AAqBR"}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/infrastructure/observability/uptime-client.ts"],"sourcesContent":["import { sendClientLog } from \"./send-client-log\";\n\nconst HEARTBEAT_MS = 60_000;\nconst UPTIME_ENDPOINT = \"/api/uptime\";\n\nexport function startUptimeHeartbeat() {\n  if (typeof window === \"undefined\") return () => {};\n\n  let stopped = false;\n  const beat = async () => {\n    try {\n      await fetch(UPTIME_ENDPOINT, {\n        method: \"GET\",\n        cache: \"no-store\",\n        keepalive: true,\n      });\n    } catch (error) {\n      sendClientLog({\n        level: \"warn\",\n        message: \"Heartbeat failed\",\n        type: \"uptime-heartbeat\",\n        context: { error: String(error) },\n      });\n    }\n  };\n\n  const id = window.setInterval(() => {\n    if (!stopped) beat();\n  }, HEARTBEAT_MS);\n\n  // fire the first beat soon after hydration\n  window.setTimeout(beat, 5000);\n\n  return () => {\n    stopped = true;\n    window.clearInterval(id);\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe;AACrB,MAAM,kBAAkB;AAEjB,SAAS;IACd,wCAAmC,OAAO,KAAO;;;IAEjD,IAAI;IACJ,MAAM;IAiBN,MAAM;AAWR"}},
    {"offset": {"line": 1158, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/application/observability/ObservabilityProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\nimport { startGlobalErrorReporter } from \"@/infrastructure/observability/error-reporter\";\nimport { startRumObservers } from \"@/infrastructure/observability/rum-client\";\nimport { startUptimeHeartbeat } from \"@/infrastructure/observability/uptime-client\";\n\nexport function ObservabilityProvider({ children }: { children: React.ReactNode }) {\n  const startedRef = useRef(false);\n\n  useEffect(() => {\n    if (process.env.NEXT_PUBLIC_DISABLE_OBSERVABILITY === \"1\") return;\n    if (startedRef.current) return;\n    startedRef.current = true;\n\n    const stopRum = startRumObservers();\n    const stopError = startGlobalErrorReporter();\n    const stopUptime = startUptimeHeartbeat();\n\n    return () => {\n      stopRum();\n      stopError();\n      stopUptime();\n    };\n  }, []);\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,sBAAsB,EAAE,QAAQ,EAAiC;IAC/E,MAAM,aAAa,IAAA,0OAAM,EAAC;IAE1B,IAAA,6OAAS,EAAC;QACR,IAAI,QAAQ,GAAG,CAAC,iCAAiC,KAAK,KAAK;QAC3D,IAAI,WAAW,OAAO,EAAE;QACxB,WAAW,OAAO,GAAG;QAErB,MAAM,UAAU,IAAA,uMAAiB;QACjC,MAAM,YAAY,IAAA,kNAAwB;QAC1C,MAAM,aAAa,IAAA,6MAAoB;QAEvC,OAAO;YACL;YACA;YACA;QACF;IACF,GAAG,EAAE;IAEL,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 1196, "column": 0}, "map": {"version":3,"sources":["file:///Users/maccrey/Development/Loglingo/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/query-client\";\nimport { Toaster } from \"@/components/ui/Toast\";\nimport { AuthProvider } from \"@/application/auth/AuthProvider\";\nimport { LearningLanguageProvider } from \"@/application/i18n/LearningLanguageProvider\";\nimport { ObservabilityProvider } from \"@/application/observability/ObservabilityProvider\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <LearningLanguageProvider>\n          <ObservabilityProvider>{children}</ObservabilityProvider>\n        </LearningLanguageProvider>\n      </AuthProvider>\n      <Toaster />\n    </QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,yQAAC,wOAAmB;QAAC,QAAQ,uKAAW;;0BACtC,yQAAC,sLAAY;0BACX,cAAA,yQAAC,8MAAwB;8BACvB,cAAA,yQAAC,iNAAqB;kCAAE;;;;;;;;;;;;;;;;0BAG5B,yQAAC,uKAAO;;;;;;;;;;;AAGd"}}]
}