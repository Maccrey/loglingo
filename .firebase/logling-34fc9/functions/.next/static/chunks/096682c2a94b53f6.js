(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39322,e=>{"use strict";var t=e.i(82252),r=e.i(59372);let a=(0,r.createContext)(void 0),n="loglingo_learning_language";function i({children:e}){let[i,s]=(0,r.useState)(()=>window.localStorage.getItem(n)||"en"),o=e=>{s(e),window.localStorage.setItem(n,e)},u=(0,r.useMemo)(()=>({learningLanguage:i,setLearningLanguage:o}),[i]);return(0,t.jsx)(a.Provider,{value:u,children:e})}function s(){let e=(0,r.useContext)(a);if(!e)throw Error("useLearningLanguage must be used within LearningLanguageProvider");return e}e.s(["LearningLanguageProvider",()=>i,"useLearningLanguage",()=>s])},7794,e=>{"use strict";var t=e.i(45348),r=e.i(82252);function a({locale:e,...a}){if(!e)throw Error(void 0);return(0,r.jsx)(t.IntlProvider,{locale:e,...a})}e.s(["default",()=>a])},60856,e=>{"use strict";var t=e.i(82252),r=e.i(86146);let a=(0,r.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),n=(0,r.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),i=(0,r.default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),s=(0,r.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,r.default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),u=(0,r.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),l=(0,r.default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),c=(0,r.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var d=e.i(78384),h=e.i(45348),f=e.i(89877),p=e.i(47801);let y=[{code:"en",name:"English"},{code:"ko",name:"한국어"},{code:"ja",name:"日本語"},{code:"zh",name:"中文"},{code:"th",name:"ไทย"},{code:"vi",name:"Tiếng Việt"},{code:"id",name:"Bahasa Indonesia"},{code:"es",name:"Español"},{code:"pt",name:"Português"},{code:"fr",name:"Français"},{code:"de",name:"Deutsch"},{code:"tr",name:"Türkçe"},{code:"ar",name:"العربية"},{code:"hi",name:"हिन्दी"}];function m(){let e=(0,h.useLocale)(),r=(0,d.useRouter)(),m=(0,f.useTranslations)("nav"),g=(0,f.useTranslations)("settings"),{user:v,signInWithGoogle:b,signOutUser:x,loading:w}=(0,p.useAuth)(),O=[{href:"/",label:m("home"),icon:a},{href:"/diary",label:m("diary"),icon:n},{href:"/diary/new",label:m("write"),icon:i},{href:"/archive",label:m("archive"),icon:o},{href:"/settings",label:m("settings"),icon:s}];return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-white/10 bg-black/20 backdrop-blur-lg md:top-0 md:bottom-auto md:border-b md:border-t-0",children:(0,t.jsxs)("div",{className:"mx-auto flex h-16 max-w-screen-xl items-center justify-around px-4 md:justify-between",children:[(0,t.jsx)("div",{className:"hidden md:block text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Loglingo"}),(0,t.jsx)("div",{className:"flex w-full justify-around md:w-auto md:space-x-8",children:O.map(e=>{let r=e.icon;return(0,t.jsxs)(d.Link,{href:e.href,className:"flex flex-col items-center justify-center space-y-1 text-xs font-medium text-muted-foreground transition-colors hover:text-primary md:flex-row md:space-x-2 md:space-y-0 md:text-sm",children:[(0,t.jsx)(r,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:e.label})]},e.href)})}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-3 text-sm text-muted-foreground",children:[(0,t.jsx)("select",{"aria-label":g("ui_language"),className:"rounded-lg border border-white/10 bg-white/5 px-3 py-1.5 text-xs text-foreground focus:outline-none focus:ring-2 focus:ring-primary/60",value:e,onChange:e=>{let t=e.target.value;document.cookie=`NEXT_LOCALE=${t}; path=/; max-age=31536000`,r.replace("/",{locale:t})},children:y.map(e=>(0,t.jsx)("option",{value:e.code,children:e.name},e.code))}),v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"max-w-[180px] truncate",children:v.email||v.displayName||"User"})]}),(0,t.jsxs)("button",{onClick:()=>x(),className:"inline-flex items-center rounded-lg border border-white/10 px-3 py-1.5 hover:border-primary/50 transition",children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),m("logout")??"Logout"]})]}):(0,t.jsxs)("button",{onClick:()=>b(),className:"inline-flex items-center rounded-lg border border-primary/50 px-3 py-1.5 text-primary-foreground bg-primary/80 hover:bg-primary transition disabled:opacity-60",disabled:w,children:[(0,t.jsx)(l,{className:"mr-2 h-4 w-4"}),w?m("loading",{defaultMessage:"Loading..."}):m("login")]})]})]})})}e.s(["Navigation",()=>m],60856)},21062,e=>{"use strict";var t=e.i(82252),r=e.i(63279),a=e.i(25376),n=e.i(84302),i=e.i(5604),s=e.i(5361),o=class extends s.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let i=t.queryKey,s=t.queryHash??(0,a.hashQueryKeyByOptions)(i,t),o=this.get(s);return o||(o=new n.Query({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){i.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,a.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,a.matchQuery)(e,t)):t}notify(e){i.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){i.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){i.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},u=e.i(55570),l=s,c=class extends l.Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#a=0}#t;#r;#a;build(e,t,r){let a=new u.Mutation({client:e,mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:r});return this.add(a),a}add(e){this.#t.add(e);let t=d(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=d(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=d(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),a=r?.find(e=>"pending"===e.state.status);return!a||a===e}}runNext(e){let t=d(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){i.notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,a.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,a.matchMutation)(e,t))}notify(e){i.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return i.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(a.noop))))}};function d(e){return e.options.scope?.id}var h=e.i(30628),f=e.i(80201);function p(e){return{onFetch:(t,r)=>{let n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[],u={pages:[],pageParams:[]},l=0,c=async()=>{let r=!1,c=(0,a.ensureQueryFn)(t.options,t.fetchOptions),d=async(e,n,i)=>{let s;if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);let o=(Object.defineProperty(s={client:t.client,queryKey:t.queryKey,pageParam:n,direction:i?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),s),u=await c(o),{maxPages:l}=t.options,d=i?a.addToStart:a.addToEnd;return{pages:d(e.pages,u,l),pageParams:d(e.pageParams,n,l)}};if(i&&s.length){let e="backward"===i,t={pages:s,pageParams:o},r=(e?function(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}:y)(n,t);u=await d(t,r,e)}else{let t=e??s.length;do{let e=0===l?o[0]??n.initialPageParam:y(n,u);if(l>0&&null==e)break;u=await d(u,e),l++}while(l<t)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function y(e,{pages:t,pageParams:r}){let a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}let m=new class{#n;#i;#s;#o;#u;#l;#c;#d;constructor(e={}){this.#n=e.queryCache||new o,this.#i=e.mutationCache||new c,this.#s=e.defaultOptions||{},this.#o=new Map,this.#u=new Map,this.#l=0}mount(){this.#l++,1===this.#l&&(this.#c=h.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onFocus())}),this.#d=f.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#n.onOnline())}))}unmount(){this.#l--,0===this.#l&&(this.#c?.(),this.#c=void 0,this.#d?.(),this.#d=void 0)}isFetching(e){return this.#n.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#n.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,a.resolveStaleTime)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#n.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),i=this.#n.get(n.queryHash),s=i?.state.data,o=(0,a.functionalUpdate)(t,s);if(void 0!==o)return this.#n.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return i.notifyManager.batch(()=>this.#n.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#n.get(t.queryHash)?.state}removeQueries(e){let t=this.#n;i.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#n;return i.notifyManager.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(i.notifyManager.batch(()=>this.#n.findAll(e).map(e=>e.cancel(r)))).then(a.noop).catch(a.noop)}invalidateQueries(e,t={}){return i.notifyManager.batch(()=>(this.#n.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(i.notifyManager.batch(()=>this.#n.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(a.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(a.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#n.build(this,t);return r.isStaleByTime((0,a.resolveStaleTime)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(a.noop).catch(a.noop)}fetchInfiniteQuery(e){return e.behavior=p(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(a.noop).catch(a.noop)}ensureInfiniteQueryData(e){return e.behavior=p(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return f.onlineManager.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#o.set((0,a.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#o.values()],r={};return t.forEach(t=>{(0,a.partialMatchKey)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#u.set((0,a.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#u.values()],r={};return t.forEach(t=>{(0,a.partialMatchKey)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,a.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===a.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}}({defaultOptions:{queries:{staleTime:6e4,retry:1,refetchOnWindowFocus:!1}}});var g=e.i(80798);let v=({...e})=>(0,t.jsx)(g.Toaster,{theme:"system",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e});var b=e.i(47801),x=e.i(39322),w=e.i(60109),O=e.i(59372);let M="/api/observability/log";function q(e){let t=JSON.stringify({kind:"log",payload:e});if("undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon){let e=new Blob([t],{type:"application/json"});navigator.sendBeacon(M,e);return}fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:t,keepalive:!0}).catch(()=>{})}let C="/api/observability/rum";function P(e,t){return Number(e.toFixed(t))}function k(e,t,r){let a,n,i;!function(e){let t=JSON.stringify({kind:"rum",payload:e});if("undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon){let e=new Blob([t],{type:"application/json"});navigator.sendBeacon(C,e);return}fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:t,keepalive:!0}).catch(()=>{})}((a=navigator.connection,n=navigator.deviceMemory,{metric:e,value:"CLS"===e?P(t,4):P(t,2),navigationType:(i=performance.getEntriesByType("navigation")[0],i?.type),pathname:"undefined"!=typeof location?location.pathname:void 0,timestamp:Date.now(),sessionId:r,visibilityState:"undefined"!=typeof document?document.visibilityState:void 0,effectiveConnectionType:a?.effectiveType,deviceMemory:n}))}function j(e,t){q({level:"info",message:e,type:"rum",context:t})}function Q({children:e}){let r=(0,O.useRef)(!1);return(0,O.useEffect)(()=>{let e,t,a,n,i;if("1"===w.default.env.NEXT_PUBLIC_DISABLE_OBSERVABILITY||r.current)return;r.current=!0;let s=function(){if("undefined"==typeof PerformanceObserver)return()=>{};let e=function(){let e="loglingo_rum_session";if("undefined"==typeof sessionStorage)return crypto.randomUUID?crypto.randomUUID():`${Date.now()}`;let t=sessionStorage.getItem(e);if(t)return t;let r=crypto.randomUUID?crypto.randomUUID():`${Date.now()}`;return sessionStorage.setItem(e,r),r}(),t=!1,r=null,a=0,n=0,i=performance.getEntriesByType("navigation")[0];i&&k("TTFB",i.responseStart,e);let s=[];try{let e=new PerformanceObserver(e=>{let t=e.getEntries().at(-1);t&&(r=t.renderTime||t.loadTime||0)});e.observe({type:"largest-contentful-paint",buffered:!0}),s.push(()=>e.disconnect())}catch(e){j("LCP observer not supported",{error:String(e)})}try{let e=new PerformanceObserver(e=>{for(let t of e.getEntries())t.hadRecentInput||(a+=t.value)});e.observe({type:"layout-shift",buffered:!0}),s.push(()=>e.disconnect())}catch(e){j("CLS observer not supported",{error:String(e)})}try{let e=new PerformanceObserver(e=>{for(let t of e.getEntries())t.interactionId&&t.duration>n&&(n=t.duration)});e.observe({type:"event",buffered:!0}),s.push(()=>e.disconnect())}catch(e){j("INP observer not supported",{error:String(e)})}let o=()=>{!t&&(t=!0,null!==r&&k("LCP",r,e),a>0&&k("CLS",a,e),n>0&&k("INP",n,e))},u=()=>o();return window.addEventListener("pagehide",u,{once:!0}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&u()},{once:!0}),s.push(()=>{window.removeEventListener("pagehide",u),o()}),()=>{s.forEach(e=>e())}}(),o=(e=e=>{q({level:"error",message:e.message||"Unhandled error",stack:e.error?.stack,context:{filename:e.filename,lineno:e.lineno,colno:e.colno},type:"frontend-error"})},t=e=>{let t=e.reason;q({level:"error",message:"string"==typeof t?t:t?.message||"Unhandled promise rejection",stack:"object"==typeof t?t?.stack:void 0,context:{reason:t},type:"frontend-error"})},window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}),u=(a=!1,n=async()=>{try{await fetch("/api/uptime",{method:"GET",cache:"no-store",keepalive:!0})}catch(e){q({level:"warn",message:"Heartbeat failed",type:"uptime-heartbeat",context:{error:String(e)}})}},i=window.setInterval(()=>{a||n()},6e4),window.setTimeout(n,5e3),()=>{a=!0,window.clearInterval(i)});return()=>{s(),o(),u()}},[]),(0,t.jsx)(t.Fragment,{children:e})}function E({children:e}){return(0,t.jsxs)(r.QueryClientProvider,{client:m,children:[(0,t.jsx)(b.AuthProvider,{children:(0,t.jsx)(x.LearningLanguageProvider,{children:(0,t.jsx)(Q,{children:e})})}),(0,t.jsx)(v,{})]})}e.s(["Providers",()=>E],21062)}]);