(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70337,e=>{"use strict";function s(e,s){let a="string"==typeof e?new Date(`${e}T00:00:00`):e;return new Intl.DateTimeFormat(s,{year:"numeric",month:"short",day:"numeric"}).format(a)}e.s(["formatDate",()=>s])},49667,e=>{"use strict";let s=(0,e.i(86146).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit3",()=>s],49667)},81469,e=>{"use strict";var s=e.i(82252),a=e.i(59372),t=e.i(10551),r=e.i(73406),i=e.i(44016),d=e.i(86823),l=e.i(89877),n=e.i(67502),c=e.i(78384),o=e.i(60211),x=e.i(7591),m=e.i(49667);let h=(0,e.i(86146).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=e.i(59427),j=e.i(31331),p=e.i(70337),g=e.i(45348);function f({params:e}){let{id:f}=(0,a.use)(e),y=(0,i.getCurrentUserId)(),N=(0,l.useTranslations)("diary"),C=(0,l.useTranslations)("archive"),v=(0,g.useLocale)(),w=(0,c.useRouter)(),{data:b,isLoading:T}=(0,t.useDiaryDetail)(y,f),{data:k=[],isLoading:A}=(0,r.useArchiveList)(y,void 0,{sourceId:f});return T?(0,s.jsx)(n.AuthGate,{children:(0,s.jsxs)(d.Card,{className:"max-w-3xl mx-auto",children:[(0,s.jsx)(d.CardHeader,{children:(0,s.jsx)(d.CardTitle,{children:N("loading")})}),(0,s.jsx)(d.CardContent,{children:(0,s.jsx)("div",{className:"h-32 animate-pulse rounded-lg bg-white/5"})})]})}):b?(0,s.jsx)(n.AuthGate,{children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl space-y-6",children:[(0,s.jsxs)(d.Card,{children:[(0,s.jsxs)(d.CardHeader,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(u.Button,{variant:"ghost",size:"sm",onClick:()=>w.push("/diary"),children:[(0,s.jsx)(h,{className:"mr-2 h-4 w-4"}),N("back")]}),(0,s.jsxs)(u.Button,{variant:"secondary",size:"sm",onClick:()=>w.push(`/diary/${f}/edit`),children:[(0,s.jsx)(m.Edit3,{className:"mr-2 h-4 w-4"}),N("edit")]})]}),(0,s.jsx)(d.CardTitle,{className:"text-2xl mt-4",children:(0,p.formatDate)(new Date(`${b.date}T00:00:00`),v)})]}),(0,s.jsxs)(d.CardContent,{className:"space-y-4",children:[b.imageUrl&&(0,s.jsx)(j.default,{src:b.imageUrl,alt:"Diary image",width:1200,height:800,className:"w-full rounded-lg object-cover",loading:"lazy"}),(0,s.jsx)("p",{className:"whitespace-pre-wrap text-foreground leading-relaxed",children:b.content})]})]}),(0,s.jsxs)(d.Card,{children:[(0,s.jsx)(d.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Archive,{className:"h-5 w-5 text-primary"}),(0,s.jsx)(d.CardTitle,{children:C("title")})]})}),(0,s.jsx)(d.CardContent,{children:A?(0,s.jsx)("div",{className:"h-20 animate-pulse rounded-lg bg-white/5"}):k.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"이 일기에서 저장된 학습 항목들"}),(0,s.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:k.map(e=>(0,s.jsx)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>w.push("/archive"),children:(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-foreground",children:e.title}),e.rootMeaning&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.rootMeaning})]}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-primary/10 text-primary",children:"grammar"===e.type?"문법":"단어"})]})},e.id))})]}):(0,s.jsxs)("div",{className:"text-center py-6",children:[(0,s.jsx)(x.Sparkles,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"아직 저장된 학습 항목이 없습니다"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"AI 교정을 사용하면 자동으로 저장됩니다"})]})})]})]})}):(0,s.jsx)(n.AuthGate,{children:(0,s.jsxs)(d.Card,{className:"max-w-3xl mx-auto",children:[(0,s.jsx)(d.CardHeader,{children:(0,s.jsx)(d.CardTitle,{children:N("not_found")})}),(0,s.jsx)(d.CardContent,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:N("not_found_desc")})})]})})}e.s(["default",()=>f],81469)}]);