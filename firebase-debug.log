[debug] [2025-12-22T07:40:27.493Z] ----------------------------------------------------------------------
[debug] [2025-12-22T07:40:27.495Z] Command:       /opt/homebrew/Cellar/node/23.6.1/bin/node /usr/local/bin/firebase deploy --only hosting
[debug] [2025-12-22T07:40:27.495Z] CLI Version:   13.26.0
[debug] [2025-12-22T07:40:27.495Z] Platform:      darwin
[debug] [2025-12-22T07:40:27.495Z] Node Version:  v23.6.1
[debug] [2025-12-22T07:40:27.495Z] Time:          Mon Dec 22 2025 16:40:27 GMT+0900 (Korean Standard Time)
[debug] [2025-12-22T07:40:27.495Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-12-22T07:40:27.531Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-22T07:40:27.531Z] > authorizing via signed-in user (m01071630214@gmail.com)
[debug] [2025-12-22T07:40:27.531Z] [iam] checking project logling-34fc9 for permissions ["firebase.projects.get","firebasehosting.sites.update"]
[debug] [2025-12-22T07:40:27.532Z] Checked if tokens are valid: false, expires at: 1766377778013
[debug] [2025-12-22T07:40:27.532Z] Checked if tokens are valid: false, expires at: 1766377778013
[debug] [2025-12-22T07:40:27.532Z] > refreshing access token with scopes: []
[debug] [2025-12-22T07:40:27.532Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-12-22T07:40:27.532Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-22T07:40:27.728Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2025-12-22T07:40:27.729Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-12-22T07:40:27.746Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions [none]
[debug] [2025-12-22T07:40:27.746Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:27.747Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-12-22T07:40:27.964Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions 200
[debug] [2025-12-22T07:40:27.965Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2025-12-22T07:40:27.965Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:27.965Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:27.965Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9 [none]
[debug] [2025-12-22T07:40:28.377Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9 200
[debug] [2025-12-22T07:40:28.377Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9 {"projectId":"logling-34fc9","projectNumber":"1006792583490","displayName":"LOGLINGO","name":"projects/logling-34fc9","resources":{"hostingSite":"logling-34fc9"},"state":"ACTIVE","etag":"1_b6e7059f-f0ca-4787-b35d-30c3921774a1"}
[debug] [2025-12-22T07:40:29.347Z] defaultcredentials: writing to file /Users/maccrey/.config/firebase/m01071630214_gmail_com_application_default_credentials.json
[debug] [2025-12-22T07:40:29.347Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:29.347Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:29.347Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites pageToken=&pageSize=10
[debug] [2025-12-22T07:40:30.488Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites 200
[debug] [2025-12-22T07:40:30.489Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites {"sites":[{"name":"projects/logling-34fc9/sites/logling-34fc9","defaultUrl":"https://logling-34fc9.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-12-22T07:40:30.489Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:30.489Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:30.489Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites 
[debug] [2025-12-22T07:40:30.841Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites 200
[debug] [2025-12-22T07:40:30.842Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites {"sites":[{"name":"projects/logling-34fc9/sites/logling-34fc9","defaultUrl":"https://logling-34fc9.web.app","type":"DEFAULT_SITE"}]}
[debug] [2025-12-22T07:40:30.842Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:30.842Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:30.842Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/webApps/-/config [none]
[debug] [2025-12-22T07:40:31.608Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/webApps/-/config 200
[debug] [2025-12-22T07:40:31.609Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/webApps/-/config {"projectId":"logling-34fc9","appId":"1:1006792583490:web:52bd72aa4bf06cee2840db","storageBucket":"logling-34fc9.firebasestorage.app","apiKey":"AIzaSyBytfHhRv_d9yLX0m-_X4zSb9Hsfv3sLK8","authDomain":"logling-34fc9.firebaseapp.com","messagingSenderId":"1006792583490","measurementId":"G-JR00RX8JLL","projectNumber":"1006792583490","version":"2"}
[info] 
   Thank you for trying our early preview of Next.js support on Firebase Hosting.
   During the preview, support is best-effort and breaking changes can be expected. Proceed with caution.
   The integration is known to work with Next.js version 12 - 15.0. You may encounter errors.

   Documentation: https://firebase.google.com/docs/hosting/frameworks/nextjs
   File a bug: https://github.com/firebase/firebase-tools/issues/new?template=bug_report.md
   Submit a feature request: https://github.com/firebase/firebase-tools/issues/new?template=feature_request.md

   We'd love to learn from you. Express your interest in helping us shape the future of Firebase Hosting: https://goo.gle/41enW5X

[debug] [2025-12-22T07:40:33.254Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:33.254Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:33.254Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 [none]
[debug] [2025-12-22T07:40:33.523Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 200
[debug] [2025-12-22T07:40:33.523Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 {"name":"projects/logling-34fc9/sites/logling-34fc9","defaultUrl":"https://logling-34fc9.web.app","type":"DEFAULT_SITE"}
[info]  ⚠ Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /Users/maccrey/package-lock.json as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /Users/maccrey/Development/Loglingo/package-lock.json


[info]    ▲ Next.js 16.0.8 (Turbopack)

[info]    - Environments: .env


[info]  ⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy

[info]    Creating an optimized production build ...

[info]  ✓ Compiled successfully in 4.4s

[info]    Running TypeScript ...

[info]    Collecting page data using 7 workers ...

[info] ✅ Firebase Admin SDK initialized

[info] (node:30982) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

[info]    Generating static pages using 7 workers (0/12) ...

[info] ✅ Firebase Admin SDK initialized

[info]    Generating static pages using 7 workers (3/12) 

[info] (node:30990) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

[info]    Generating static pages using 7 workers (6/12) 

[info]    Generating static pages using 7 workers (9/12) 

[info]  ✓ Generating static pages using 7 workers (12/12) in 443.2ms

[info]    Finalizing page optimization ...

[info] 

[info] Route (app)
┌ ○ /_not-found
├ ƒ /[locale]
├ ƒ /[locale]/ad-test
├ ƒ /[locale]/archive
├ ƒ /[locale]/diary
├ ƒ /[locale]/diary/[id]
├ ƒ /[locale]/diary/[id]/edit
├ ƒ /[locale]/diary/new
├ ƒ /[locale]/radio
├ ƒ /[locale]/settings
├ ƒ /api/ai/correct
├ ƒ /api/ai/dictionary
├ ƒ /api/learning/aggregate
├ ƒ /api/observability/log
├ ƒ /api/observability/rum
├ ƒ /api/quiz/generate
├ ƒ /api/uptime
├ ○ /icon.png
├ ○ /robots.txt
└ ○ /sitemap.xml


ƒ Proxy (Middleware)

[info] 
○  (Static)   prerendered as static content
ƒ  (Dynamic)  server-rendered on demand


[info] Building a Cloud Function to run this application. This is needed due to:
[info]  • middleware
[info]  • non-static component /[locale]/ad-test/page
[info]  • non-static component /[locale]/archive/page
[info]  • non-static component /[locale]/diary/[id]/edit/page
[info]  • non-static component /[locale]/diary/[id]/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /[locale]/diary/new/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /[locale]/diary/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /[locale]/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /[locale]/radio/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /[locale]/settings/page
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/ai/correct/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/ai/dictionary/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/learning/aggregate/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/observability/log/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/observability/rum/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/quiz/generate/route
[debug] [2025-12-22T07:40:44.885Z]  • non-static component /api/uptime/route
[info]  • and 12 other reasons, use --debug to see more
[info] 
[debug] [2025-12-22T07:40:45.052Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:45.052Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:45.052Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 [none]
[debug] [2025-12-22T07:40:46.082Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 200
[debug] [2025-12-22T07:40:46.082Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/logling-34fc9/sites/logling-34fc9 {"name":"projects/logling-34fc9/sites/logling-34fc9","defaultUrl":"https://logling-34fc9.web.app","type":"DEFAULT_SITE"}
[warn] ⚠  This integration expects Node version 16, 18, or 20. You're running version 23, problems may be encountered. 
[debug] [2025-12-22T07:40:50.639Z] [web frameworks] effective firebase.json:  {
  "hosting": [
    {
      "source": ".",
      "ignore": [
        "firebase.json",
        "**/.*",
        "**/node_modules/**"
      ],
      "headers": [
        {
          "source": "**/*.@(jpg|jpeg|gif|png|svg|webp|ico|woff|woff2)",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=31536000, immutable"
            }
          ]
        },
        {
          "source": "**/*.@(js|css)",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=31536000, immutable"
            }
          ]
        },
        {
          "source": "**/*.@(html|json)",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=0, must-revalidate"
            }
          ]
        },
        {
          "source": "**",
          "headers": [
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin-allow-popups"
            }
          ]
        },
        {
          "source": "/:path*",
          "headers": [
            {
              "key": "Cross-Origin-Opener-Policy",
              "value": "same-origin-allow-popups"
            },
            {
              "key": "X-DNS-Prefetch-Control",
              "value": "on"
            },
            {
              "key": "Strict-Transport-Security",
              "value": "max-age=63072000; includeSubDomains; preload"
            },
            {
              "key": "X-XSS-Protection",
              "value": "1; mode=block"
            },
            {
              "key": "X-Frame-Options",
              "value": "SAMEORIGIN"
            },
            {
              "key": "X-Content-Type-Options",
              "value": "nosniff"
            },
            {
              "key": "Referrer-Policy",
              "value": "origin-when-cross-origin"
            }
          ]
        },
        {
          "source": "/_next/static/:path*",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=31536000, immutable"
            }
          ]
        },
        {
          "source": "/_next/image",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=86400, stale-while-revalidate=2592000"
            }
          ]
        },
        {
          "source": "/favicon.ico",
          "headers": [
            {
              "key": "Cache-Control",
              "value": "public, max-age=604800, immutable"
            }
          ]
        },
        {
          "source": "/_global-error",
          "headers": [
            {
              "key": "x-nextjs-stale-time",
              "value": "300"
            },
            {
              "key": "x-nextjs-prerender",
              "value": "1"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/_global-error/layout,_N_T_/_global-error/page,_N_T_/_global-error"
            }
          ]
        },
        {
          "source": "/_not-found",
          "headers": [
            {
              "key": "x-nextjs-stale-time",
              "value": "300"
            },
            {
              "key": "x-nextjs-prerender",
              "value": "1"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/_not-found/layout,_N_T_/_not-found/page,_N_T_/_not-found"
            }
          ]
        },
        {
          "source": "/favicon.ico",
          "headers": [
            {
              "key": "cache-control",
              "value": "public, max-age=0, must-revalidate"
            },
            {
              "key": "content-type",
              "value": "image/x-icon"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/favicon.ico/layout,_N_T_/favicon.ico/route,_N_T_/favicon.ico"
            }
          ]
        },
        {
          "source": "/icon.png",
          "headers": [
            {
              "key": "cache-control",
              "value": "public, max-age=0, must-revalidate"
            },
            {
              "key": "content-type",
              "value": "image/png"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/icon.png/layout,_N_T_/icon.png/route,_N_T_/icon.png"
            }
          ]
        },
        {
          "source": "/robots.txt",
          "headers": [
            {
              "key": "cache-control",
              "value": "public, max-age=0, must-revalidate"
            },
            {
              "key": "content-type",
              "value": "text/plain"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/robots.txt/layout,_N_T_/robots.txt/route,_N_T_/robots.txt"
            }
          ]
        },
        {
          "source": "/sitemap.xml",
          "headers": [
            {
              "key": "cache-control",
              "value": "public, max-age=0, must-revalidate"
            },
            {
              "key": "content-type",
              "value": "application/xml"
            },
            {
              "key": "x-next-cache-tags",
              "value": "_N_T_/layout,_N_T_/sitemap.xml/layout,_N_T_/sitemap.xml/route,_N_T_/sitemap.xml"
            }
          ]
        },
        {
          "source": "/**/*.[jt]s",
          "headers": [
            {
              "key": "Set-Cookie",
              "value": "__FIREBASE_DEFAULTS__=eyJjb25maWciOnsicHJvamVjdElkIjoibG9nbGluZy0zNGZjOSIsImFwcElkIjoiMToxMDA2NzkyNTgzNDkwOndlYjo1MmJkNzJhYTRiZjA2Y2VlMjg0MGRiIiwic3RvcmFnZUJ1Y2tldCI6ImxvZ2xpbmctMzRmYzkuZmlyZWJhc2VzdG9yYWdlLmFwcCIsImFwaUtleSI6IkFJemFTeUJ5dGZIaFJ2X2Q5eUxYMG0tX1g0elNiOUhzZnYzc0xLOCIsImF1dGhEb21haW4iOiJsb2dsaW5nLTM0ZmM5LmZpcmViYXNlYXBwLmNvbSIsIm1lc3NhZ2luZ1NlbmRlcklkIjoiMTAwNjc5MjU4MzQ5MCIsIm1lYXN1cmVtZW50SWQiOiJHLUpSMDBSWDhKTEwiLCJwcm9qZWN0TnVtYmVyIjoiMTAwNjc5MjU4MzQ5MCIsInZlcnNpb24iOiIyIn0sIl9hdXRoVG9rZW5TeW5jVVJMIjoiL19fc2Vzc2lvbiJ9; SameSite=Strict; Expires=2027-11-16T18:20:50.639Z; Path=/;"
            }
          ]
        }
      ],
      "site": "logling-34fc9",
      "rewrites": [
        {
          "source": "/**",
          "function": {
            "functionId": "ssrlogling34fc9",
            "region": "us-central1",
            "pinTag": true
          }
        }
      ],
      "redirects": [],
      "cleanUrls": true,
      "trailingSlash": false,
      "public": ".firebase/logling-34fc9/hosting",
      "webFramework": "next_ssr"
    }
  ],
  "functions": [
    {
      "source": "firebase/functions",
      "codebase": "default",
      "ignore": [
        "node_modules",
        ".git",
        "firebase-debug.log",
        "firebase-debug.*.log"
      ]
    },
    {
      "source": ".firebase/logling-34fc9/functions",
      "codebase": "firebase-frameworks-logling-34fc9"
    }
  ]
}
[debug] [2025-12-22T07:40:50.640Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-22T07:40:50.640Z] > authorizing via signed-in user (m01071630214@gmail.com)
[debug] [2025-12-22T07:40:50.640Z] [iam] checking project logling-34fc9 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-12-22T07:40:50.640Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:50.640Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:50.641Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions [none]
[debug] [2025-12-22T07:40:50.641Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:50.641Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-12-22T07:40:50.850Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions 200
[debug] [2025-12-22T07:40:50.850Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-12-22T07:40:50.851Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:50.851Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:50.851Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/logling-34fc9/locations/-/functions [none]
[debug] [2025-12-22T07:40:51.698Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/logling-34fc9/locations/-/functions 200
[debug] [2025-12-22T07:40:51.698Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/logling-34fc9/locations/-/functions {}
[debug] [2025-12-22T07:40:51.698Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:51.698Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:51.699Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/logling-34fc9/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-12-22T07:40:52.992Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/logling-34fc9/locations/-/functions 200
[debug] [2025-12-22T07:40:52.992Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/logling-34fc9/locations/-/functions {"functions":[{"name":"projects/logling-34fc9/locations/us-central1/functions/refreshLearningStats","buildConfig":{"build":"projects/1006792583490/locations/us-central1/builds/f300ba29-134e-43c1-9f2b-273e31e96d6f","runtime":"nodejs20","entryPoint":"refreshLearningStats","source":{"storageSource":{"bucket":"gcf-v2-sources-1006792583490-us-central1","object":"refreshLearningStats/function-source.zip","generation":"1766374845250406"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/logling-34fc9/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1006792583490-us-central1","object":"refreshLearningStats/function-source.zip","generation":"1766374845250406"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/logling-34fc9/serviceAccounts/1006792583490-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/logling-34fc9/locations/us-central1/services/refreshlearningstats","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"logling-34fc9\",\"storageBucket\":\"logling-34fc9.firebasestorage.app\"}","GCLOUD_PROJECT":"logling-34fc9","EVENTARC_CLOUD_EVENT_SOURCE":"projects/logling-34fc9/locations/us-central1/services/refreshLearningStats","FUNCTION_TARGET":"refreshLearningStats","LOG_EXECUTION_ID":"true"},"maxInstanceCount":20,"ingressSettings":"ALLOW_ALL","uri":"https://refreshlearningstats-skd4v6erxa-uc.a.run.app","serviceAccountEmail":"1006792583490-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"refreshlearningstats-00004-nar","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-12-22T03:41:30.599652264Z","labels":{"firebase-functions-hash":"316b5aaa82209615301c5ba41e4ee3323d07ef3f","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"environment":"GEN_2","url":"https://us-central1-logling-34fc9.cloudfunctions.net/refreshLearningStats","createTime":"2025-12-22T02:45:18.113528932Z","satisfiesPzi":true},{"name":"projects/logling-34fc9/locations/us-central1/functions/ssrlogling34fc9","buildConfig":{"build":"projects/1006792583490/locations/us-central1/builds/f77e9c0d-f83d-4e9a-86dc-71f4528eca43","runtime":"nodejs20","entryPoint":"ssrlogling34fc9","source":{"storageSource":{"bucket":"gcf-v2-sources-1006792583490-us-central1","object":"ssrlogling34fc9/function-source.zip","generation":"1766307847421031"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/logling-34fc9/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-1006792583490-us-central1","object":"ssrlogling34fc9/function-source.zip","generation":"1766307847421031"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/logling-34fc9/serviceAccounts/1006792583490-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/logling-34fc9/locations/us-central1/services/ssrlogling34fc9","timeoutSeconds":60,"environmentVariables":{"NEXT_PUBLIC_FIREBASE_API_KEY":"AIzaSyBytfHhRv_d9yLX0m-_X4zSb9Hsfv3sLK8","NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN":"logling-34fc9.firebaseapp.com","NEXT_PUBLIC_FIREBASE_PROJECT_ID":"logling-34fc9","NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET":"logling-34fc9.firebasestorage.app","NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID":"1006792583490","NEXT_PUBLIC_FIREBASE_APP_ID":"1:1006792583490:web:52bd72aa4bf06cee2840db","NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID":"G-JR00RX8JLL","GROK_API_KEY":"xai-zTO1toj77pIATxsxODWf1DIBcbymvD0YUIYPxFNTHIEFAn9EZeR13rhoce3cdiiGXWdCH6cTtIAZUAU9","GROK_MODEL":"grok-4-1-fast-non-reasoning","VERCEL_URL":"logling-34fc9.web.app","__FIREBASE_FRAMEWORKS_ENTRY__":"next.js","__FIREBASE_DEFAULTS__":"{\"config\":{\"projectId\":\"logling-34fc9\",\"appId\":\"1:1006792583490:web:52bd72aa4bf06cee2840db\",\"storageBucket\":\"logling-34fc9.firebasestorage.app\",\"apiKey\":\"AIzaSyBytfHhRv_d9yLX0m-_X4zSb9Hsfv3sLK8\",\"authDomain\":\"logling-34fc9.firebaseapp.com\",\"messagingSenderId\":\"1006792583490\",\"measurementId\":\"G-JR00RX8JLL\",\"projectNumber\":\"1006792583490\",\"version\":\"2\"},\"_authTokenSyncURL\":\"/__session\"}","FIREBASE_CONFIG":"{\"projectId\":\"logling-34fc9\",\"storageBucket\":\"logling-34fc9.firebasestorage.app\"}","GCLOUD_PROJECT":"logling-34fc9","EVENTARC_CLOUD_EVENT_SOURCE":"projects/logling-34fc9/locations/us-central1/services/ssrlogling34fc9","FUNCTION_TARGET":"ssrlogling34fc9","LOG_EXECUTION_ID":"true"},"maxInstanceCount":20,"ingressSettings":"ALLOW_ALL","uri":"https://ssrlogling34fc9-skd4v6erxa-uc.a.run.app","serviceAccountEmail":"1006792583490-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ssrlogling34fc9-00124-sub","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-12-21T09:06:29.986637883Z","labels":{"firebase-functions-codebase":"firebase-frameworks-logling-34fc9","firebase-functions-hash":"bcaa3e4304febf90f6895a3dca947a87ad3ee167","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-logling-34fc9.cloudfunctions.net/ssrlogling34fc9","createTime":"2025-12-10T05:34:47.637340309Z","satisfiesPzi":true}]}
[info] i  hosting: The following function(s) are pinned to site logling-34fc9 and will be deployed as well: ssrlogling34fc9 
[info] 
[info] === Deploying to 'logling-34fc9'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2025-12-22T07:40:52.996Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:52.996Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:52.996Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9 [none]
[debug] [2025-12-22T07:40:53.190Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9 200
[debug] [2025-12-22T07:40:53.190Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9 {"projectNumber":"1006792583490","projectId":"logling-34fc9","lifecycleState":"ACTIVE","name":"LOGLINGO","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-12-01T00:25:37.055331Z"}
[info] i  functions: preparing codebase firebase-frameworks-logling-34fc9 for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.191Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:53.192Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudfunctions.googleapis.com [none]
[debug] [2025-12-22T07:40:53.192Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:53.193Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/runtimeconfig.googleapis.com [none]
[debug] [2025-12-22T07:40:53.194Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:53.197Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudbuild.googleapis.com [none]
[debug] [2025-12-22T07:40:53.197Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudbuild.googleapis.com x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:53.198Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/artifactregistry.googleapis.com [none]
[debug] [2025-12-22T07:40:53.198Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/artifactregistry.googleapis.com x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:40:54.276Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudbuild.googleapis.com 200
[debug] [2025-12-22T07:40:54.277Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-12-22T07:40:54.281Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudfunctions.googleapis.com 200
[debug] [2025-12-22T07:40:54.281Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-12-22T07:40:54.282Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/runtimeconfig.googleapis.com 200
[debug] [2025-12-22T07:40:54.282Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-12-22T07:40:54.283Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/artifactregistry.googleapis.com 200
[debug] [2025-12-22T07:40:54.284Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-12-22T07:40:54.284Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:54.284Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:54.284Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/adminSdkConfig [none]
[debug] [2025-12-22T07:40:55.037Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/adminSdkConfig 200
[debug] [2025-12-22T07:40:55.037Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/logling-34fc9/adminSdkConfig {"projectId":"logling-34fc9","storageBucket":"logling-34fc9.firebasestorage.app"}
[debug] [2025-12-22T07:40:55.037Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:55.037Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:40:55.037Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/logling-34fc9/configs [none]
[debug] [2025-12-22T07:40:56.029Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/logling-34fc9/configs 200
[debug] [2025-12-22T07:40:56.029Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/logling-34fc9/configs {}
[debug] [2025-12-22T07:40:56.031Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-12-22T07:40:56.422Z] > [functions] package.json contents: {
  "name": "loglingo-web",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@tanstack/react-query": "^5.90.11",
    "clsx": "^2.1.1",
    "firebase": "^12.6.0",
    "firebase-admin": "^13.6.0",
    "hls.js": "^1.6.15",
    "lucide-react": "^0.555.0",
    "next": "^16.0.8",
    "next-intl": "^4.5.5",
    "next-themes": "^0.4.6",
    "radio-browser-api": "^6.0.3",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "react-globe.gl": "^2.37.0",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "firebase-frameworks": "^0.11.0",
    "firebase-functions": "^6.0.1"
  },
  "main": "server.js",
  "engines": {
    "node": "20"
  }
}
[debug] [2025-12-22T07:40:56.422Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase firebase-frameworks-logling-34fc9 to determine what to deploy 
[debug] [2025-12-22T07:40:56.422Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-12-22T07:40:56.427Z] Found firebase-functions binary at '/Users/maccrey/Development/Loglingo/.firebase/logling-34fc9/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8868

[error] (node:31075) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)

[debug] [2025-12-22T07:40:56.687Z] Got response from /__/functions.yaml {"endpoints":{"ssrlogling34fc9":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"ssrlogling34fc9"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-12-22T07:41:00.703Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:00.703Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:00.703Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/firebaseextensions.googleapis.com [none]
[debug] [2025-12-22T07:41:00.703Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:41:01.751Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/firebaseextensions.googleapis.com 200
[debug] [2025-12-22T07:41:01.751Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/logling-34fc9/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-12-22T07:41:01.752Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-12-22T07:41:01.752Z] > authorizing via signed-in user (m01071630214@gmail.com)
[debug] [2025-12-22T07:41:01.752Z] [iam] checking project logling-34fc9 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-12-22T07:41:01.752Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:01.752Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:01.752Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions [none]
[debug] [2025-12-22T07:41:01.752Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions x-goog-quota-user=projects/logling-34fc9
[debug] [2025-12-22T07:41:01.752Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-12-22T07:41:01.955Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions 200
[debug] [2025-12-22T07:41:01.955Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/logling-34fc9:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-12-22T07:41:01.956Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:01.956Z] Checked if tokens are valid: true, expires at: 1766392826729
[debug] [2025-12-22T07:41:01.956Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/logling-34fc9/instances pageSize=100&pageToken=
[debug] [2025-12-22T07:41:02.918Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/logling-34fc9/instances 200
[debug] [2025-12-22T07:41:02.918Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/logling-34fc9/instances {}
[error] Error: Failed to load environment variables from .env.:
[error] - FirebaseError Invalid dotenv file, error on lines: "client_email": "firebase-adminsdk-fbsvc@logling-34fc9.iam.gserviceaccount.com"
